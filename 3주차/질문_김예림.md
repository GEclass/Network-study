# [Network] 3주차
---
## Q1. URL, URI, URN의 차이는 무엇인가?
  - URI는 네트워크상의 자원 자체를 식별하는 고유한 문자열입니다.
  - URL은 네트워크상에서 통합 자원의 식별자와 위치입니다.
  - URN은 웹 문서의 물리적인 위치와 상관없이 웹 문서 자체입니다.
  - 즉, URI는 자원을 구별하는 식별자이지만 URL은 네트워크 상에서 자원을 구별하는 식별자와 자원의 위치를 나타내는 것입니다.
  - https://www.google.com 은 네트워크 상의 식별자가 될 수 있고 어떻게 위치를 찾고 도달할 수 있는지를 나타내는 프로토콜를 포함합니다. www.google.com 은 접근하는 자원 자체 문자열입니다. 이 www.google.com 이후의 부분에서 자원의 상세 정보를 알 수 있습니다. 
  > 참조 - <https://www.elancer.co.kr/blog/view?seq=74>
---
## Q2. HTTP Request의 구조에 대해 설명하라.
  - HTTP는 클라이언트가 HTTP request를 하면 서버가 HTTP response를 보내는 구조입니다. 이 구조에서 HTTP response는 start line, HTTP Headers, 공백, body로 이루어져 있습니다.
  - start line은 HTTP 메소드, HTTP target(URI/URL), HTTP 버전으로 나누어집니다.
    - HTTP 메소드는 해당 request가 의도한 action을 나타내는 부분입니다.
    - HTTP target은 request가 전송되는 곳입니다.
    - HTTP 버전은 응답 메세지에 써야 할 HTTP 버전을 알려주는 부분입니다.
  - HTTP Headers는 `:`으로 구분된 키와 값으로 이루어집니다. 또한 Request Header, General Header, Entity Header로 이루어져 있습니다.
    - HTTP Header는 request에 대한 추가 정보를 가지고 있습니다.
    - 예를 들어, 요청이 전송되는 target의 host url, 요청을 보내는 클라이언트의 대한 정보, 해당 요청이 받을 수 있는 response 타입, 해당 요청이 끝난후에 클라이언트와 서버가 계속해서 네트워크 컨넥션을 유지할 것인지 아니면 끊을 것인지에 대해 지시하는 부분 등이 있습니다.
  - body는 해당 request의 실제 메세지 내용입니다.
    - HTTP 메소드가 GET, HEAD, DELETE 등과 같을 경우, request에 body가 없습니다.

> 참조1 - <https://velog.io/@teddybearjung/HTTP-%EA%B5%AC%EC%A1%B0-%EB%B0%8F-%ED%95%B5%EC%8B%AC-%EC%9A%94%EC%86%8C>

> 참조2 - <https://velog.io/@bky373/Web-HTTP%EC%99%80-HTTPS-%EC%B4%88%EA%B0%84%EB%8B%A8-%EC%A0%95%EB%A6%AC>
---
## Q3. HTTP Response의 구조에 대해 설명하라.
  - HTTP request에 대한 서버의 답변입니다. start line, HTTP Headers, 공백, body로 이루어져 있습니다.
  - start line은 HTTP 버전, Status Code, Status Text로 이루어져 있습니다.
    - States Code는 응답의 상태를 나타내는 숫자 코드입니다.
    - Status Text는 Status Code를 간략히 설명한 부분입니다.
  - HTTP Headers는 `:`으로 구분된 키와 값으로 이루어집니다. 또한 Response Header, General Header, Entity Header로 이루어져 있습니다.
    - HTTP Header는 서버에 대한 추가 정보를 가지고 있습니다.
  - body는 response할 데이터가 있는 부분입니다.
    - 서버가 데이터가 잘 도착했다는 응답 처럼 body가 없는 response도 있습니다. 
---
## Q4. HTTP 쿠키는 무엇인가?
  - HTTP는 상태가 없습니다. 각각의 요청/응답은 연결되어 있지 않아 하나의 클라이언트가 보낸 여러 요청을 보낼 경우,  서버는 같은 클라이언트가 보냈다는 것은 알지 못합니다.
  - 서버에 요청한 사람이 누구인지 표시하기 위해 클라이언트에 남기는 것이 쿠키입니다. HTTP의 특징인 무상태는 서버 입장에서 클라이언트의 상태가 없다는 것으로 매번 클라이언트가 보내는 요청은 독립적입니다.
  - 클라이언트가 서버에 요청을 하는 것이 처음이라면 서버는 쿠키를 응답과 함께 보냅니다. 이후, 클라이언트가 쿠키를 보낸 서버에 다시 요청할 경우, 서버에 요청과 쿠키를 같이 보냅니다. 요청과 쿠키를 받은 서버는 클라이언트를 확인하고 쿠키를 업데이트해야 한다면 업데이트한 쿠키와 함께 응답합니다.
  - 웹 브라우저가 종료되면 삭제되거나 만료일이 되면 삭제됩니다.
  - 쿠키를 통해 여러 페이지를 이동할 때마다 로그인을 하지 않고 사용자 정보를 유지할 수 있습니다.
    - 하지만 서버가 가지고 있는 것이 아니라 클라이언트가 저장하고 있기 때문에 임의로 고치거나 가로챌 수 있어 민감하거나 중요한 정보를 담는다면 위험하여 보안에 취약합니다.
---
## Q5. HTTP 세션 전달 과정을 설명하라.
  - HTTP 세션이란 클라이언트가 웹 서버에 연결된 순간부터 웹 브라우저를 닫아 서버와 HTTP 통신을 끝날 때까지의 기간이며 서버에 상태나 데이터를 저장해두고 세션 쿠키를 클라이언트에게 주어 서버가 클라이언트를 식별할 수 있는 방식입니다.
  - 서버에서 세션 객체를 생성하여 각 클라이언트마다 고유한 세션 ID를 부여하며 쿠키를 사용하여 세션 ID를 클라이언트에 보냅니다. 서버가 클라이언트의 HTTP 요청에서 쿠키를 확인하여 세션 ID가 있는지 확인합니다. 세션 ID가 없다면 서버에서 세션 ID를 생성하여 응답할 때 쿠키에 담아 보냅니다. 클라이언트는 응답 받은 세션 ID를 저장하고 세션 ID를 생성한 서버에 요청 시, 세션 ID로 클라이언트를 인증합니다. 
### 쿠키와 세션의 차이
  - 쿠키는 서버의 자원을 전혀 사용하지 않으며 세션은 서버의 자원을 사용합니다.
  - 쿠키를 이용하여 세션 ID를 저장하고 세션ID로 구분하여 처리하기 때문에 세션이 보안에서 더 우수하지만 세션은 서버의 처리가 필요하여 쿠키가 요청 속도가 더 빠릅니다.
    
  > 참조1 - <https://noahlogs.tistory.com/38>

  > 참조2 - <https://interconnection.tistory.com/74>
---
## Q6. 프록시 서버는 무엇이고 프록시 서버를 경유하는 웹 접속 과정을 설명하라.
  - 프록시 서버는 웹 사이트 접속을 대행하는 서버입니다.
  - 프록시 서버는 대행을 해줌으로써 외부 인터넷에서 클라이언트의 정보를 알 수 없어 보안을 알 수 있습니다. 프록시에 있는 로컬 캐시를 통해 캐싱을 하며 리소스에 대한 접근 속을 높입니다.
  - 웹 브라우저에서 프록시 서버의 IP 주소와 포트 번호를 설정합니다.
    - TCP의 경우, 포트 번호 8080를 사용하여 접속합니다.
  1. 클라이언트 웹 브라우저에서 URL을 입력하면 프록시 서버로 HTTP Request를 보냅니다.
  2. 프록시 서버에서 URL로 저장된 웹 서버에 HTTP Request를 보냅니다. 하지만 여기서 Request가 이미 로컬 캐시에 있다면 프록시 서버가 HTTP Response를 보냅니다.
  3. 웹 서버가 다시 HTTP Response를 프록시 서버로 보내면 클라이언트 웹 브라우저로 HTTP Response를 보냅니다.
     
  > 참조1 - <https://velog.io/@jangwonyoon/Proxy-Server%ED%94%84%EB%A1%9D%EC%8B%9C-%EC%84%9C%EB%B2%84%EB%9E%80>

  > 참조2 - <https://blog.naver.com/PostView.naver?blogId=dreamxpeed&logNo=222797653970&parentCategoryNo=&categoryNo=65&viewDate=&isShowPopularPosts=true&from=search>
---
## Q7. 웹 사이트 동작을 설명하라.
  1. 클라이언트가 웹 브라우저에 URL을 입력하거나 링크를 클릭합니다.
  2. DNS가 URL에 포함된 웹 서버의 호스트명을 DNS 쿼리를 통해 질의하여 웹 서버의 IP 주소를 해석합니다. 또한 이 때, DNS 서버인 라우터의 MAC 주소를 ARP로 구합니다.
  3. 웹 서버의 IP 주소로 TCP 커넥션을 맺습니다.
  4. TCP 커넥션이 맺어지면 웹 서버와 HTTP 리퀘스트와 HTTP 리스폰스를 주고 받습니다.
  5. HTTP 응답 메시지가 HTTP를 통해 웹 페이지 데이터가 되어 웹 브라우저로 보내집니다.
  6. 웹 브라우저는 받은 웹 페이지 데이터를 화면으로 출력합니다.
---
## Q8. HTTPS는 어떻게 사용되는가?
  - HTTP에 암호화가 추가된 프로토콜인 HTTPS는 평문 데이터를 전송하는 프로토콜인 HTTP을 사용할 경우, 중요 정보가 조회 될 수 있는 점을 보완한 프로토콜입니다.
  - 서버와 클라이언트가 최초 1회로 서로 대칭 키를 공유하는 과정에서 비대칭 키 암호화를 사용하고 이후 메시지를 주고 받을 때는, 대칭 키 암호화를 사용합니다.
  1. 클라이언트가 서버로 최초 연결을 시도합니다.
  2. 서버는 공개키를 넘겨줍니다.
  3. 클라이언트는 인증서의 유효성을 검사하고 세션 키를 발급합니다.
  4. 클라이언트는 서버의 공개 키로 세션 키를 암호화하여 서버로 전송합니다.
  5. 서버는 암호화된 세션 키를 개인 키로 복호화하여 세션 키를 얻습니다.
  6. 클라이언트와 서버는 동일한 세션 키를 공유하므로 데이터를 전달할 때는 세션 키로 암호화와 복호화를 진행합니다.
---
## Q9. 웹 서버와 웹 애플리케이션 서버의 차이는 무엇인가?
  - 웹 서버는 정적 콘텐츠를 제공하고 웹 애플리케이션 서버는 비즈니스 로직에 따라 처리된 동적 콘텐츠를 제공합니다.
    - 그리고 웹 서버는 HTTP를 기본적으로 사용하며 FTP나 SMTP를 지원하기도 합니댜.
  - 웹 애플리케이션 서버는 웹 서버에서 사용되는 프로토콜 외에도 추가 통신 프로토콜(원격 메서드 호출-RMI, 원격 프로시저 호출-RPC)을 사용하여 통신합니다.
  - 웹 서버는 멀티 스레딩을 지원하지 않지만 웹 애플리케이션은 멀티 스레딩을 지원하여 한 번에 많은 클라이언트 상호 작용을 병렬로 처리할 수 있습니다.
---
## Q10. 라우팅은 무엇이며 라우터의 데이터 전송 흐름에 대해 설명하라.
  - 데이터의 네트워크가 어느 네트워크에 접속해 있는지 판단하여 연결된 네트워크 라우터로 데이터를 전송하는 것입니다.
  - 라우터가 IP 패킷을 수신하고 목적지 IP 주소로 라우팅 테이블 상의 경로 정보를 검색하여 전송할 곳을 결정합니다. 이 때, 이 라우팅 테이블을 통해 다음 목적지인 넥스트 홉의 MAC 주소를 알기 위해 ARP 요청을 하여 이더넷 헤더를 수정하고 FCS를 교체합니다. 라우터가 IP 헤더 안의 목적지 IP 주소를 확인하고 IP 헤더의 TTL과 헤더 체크섬만 변경하고 전송합니다.
---
## Q11. 라우팅 테이블은 무엇인가?
  - 각 네트워크로 IP 패킷을 전송하는 경로가 등록된 것입니다. 라우터가 이 라우팅 테이블로 이웃 라우터의 네트워크 구성을 인식합니다. 라우터 테이블 상에서 인식할 수 없는 네트워크로 가는 IP 패킷을 모두 패기되기 때문에 라우팅 테이블에 필요한 경로 정보를 빠짐없이 등록해 두어야 합니다.
  - 라우팅 테이블에 경로 정보를 등록하는 방식에는 라우터가 직접 연결한 네트워크 경로 정보인 직접 접속, 커맨트를 입력하여 라우팅 테이블에 등록하는 스태틱 라우팅, 라우터끼리 정보를 교환하여 경로 정보를 등록하는 라우팅 프로토콜이 있습니다.
---
## Q12. 경로 요약은 왜 고안되었고 무엇인가?
  - 라우팅하는 과정에서 라우터는 이웃 라우터까지만 보내면 되기 때문에 넥스트 홉이 똑같은 네트워크를 일일이 등록하는 것은 의미가 없기 때문에 넥스트 홉이 공통인 원격 네트워크의 경로 정보를 하나로 모아 등록하는 경로 요약이 필요합니다.
  - 인터넷으로 라우팅할 경우, 모든 네트워크가 집약된 `0.0.0.0/0`을 등록하여 모든 네트워크 경로 정보를 등록합니다.
---
## Q13. VLAN은 무엇인가?
  - 레이터 2 스위치를 가상으로 분할한 것입니다. 같은 VLAN에 해당한 포트끼리만 이더넷 프레임을 전송할 수 있어 데이터가 전송되는 범위를 제한할 수 있습니다. VLAN으로 분할한 네트워크가 서로 통신하기 위해서는 라우터와 레이터 3 스위치기 필요합니다. 
